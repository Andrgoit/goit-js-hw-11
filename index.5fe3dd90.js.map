{"mappings":"YAAA,IAAMA,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAcH,SAASC,cAAc,cAErCG,EAAW,2BACXC,EAAM,qCACRC,EAAO,EAKX,SAASC,EAAYC,GACnBA,EAAEC,iBAEF,IAwBmBC,EAxBbC,EAAaH,EAAEI,cAAcC,SAASC,YAAYC,MAErC,KAAfJ,IAsBeD,EApBLC,EAqBPK,MAAM,GAAmBC,OAAhBb,EAAS,SAAgBa,OAATZ,EAAI,OAAUY,OAALP,EAAE,KAAgBO,OAAbC,IAC3CC,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,UAEjBC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,OA7BXP,MAAK,SAAAC,GACJd,GAAQ,EAgChB,SAAsBuB,GAEpB,IAAMC,EAAWD,EAAOE,KACxB,GAAwB,IAApBD,EAASE,OAAc,CACzB,IAAMC,EAASH,EACZI,KACC,SAAAC,G,IACEC,EAAYD,EAAZC,aAEAC,GADaF,EAAbG,cACIH,EAAJE,MACAE,EAAKJ,EAALI,MACAC,EAAKL,EAALK,MACAC,EAAQN,EAARM,SACAC,EAASP,EAATO,UAEA,MAAO,yCACmBzB,OAAtBmB,EAAa,WAGLnB,OAHcoB,EAAK,8FAMnBpB,OAHAsB,EAAM,+DAMHtB,OAHHuB,EAAM,kEAMFvB,OAHDwB,EAAS,mEAGExB,OAAVyB,EAAU,mCAM7BC,KAAK,IACRzC,EAAQ0C,UAAYX,OAEpBN,QAAQC,IAAI,qBApERiB,CAAazB,MAEdK,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MAhBpB3B,EAAK+C,iBAAiB,SAAUvC,GAChCJ,EAAY2C,iBAAiB,QAASvC,GAqBtC,IAAMW,EAAe,IAAI6B,gBAAgB,CACvCC,WAAY,QACZC,YAAa,aACbC,YAAY,EACZC,SAAU,EACVC,KAAM9C,I","sources":["src/index.js"],"sourcesContent":["const form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '28166430-49d596e3415ce5cac11c6cb0f';\nlet page = 1;\n\nform.addEventListener('submit', formHandler);\nloadMoreBtn.addEventListener('click', formHandler);\n\nfunction formHandler(e) {\n  e.preventDefault();\n  //   console.log(e.currentTarget.elements);\n  const inputValue = e.currentTarget.elements.searchQuery.value;\n\n  if (inputValue !== '') {\n    // console.log(inputValue);\n    fetchingUrl(inputValue)\n      .then(response => {\n        page += 1;\n        markupImages(response);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n  return;\n}\n\nconst searchParams = new URLSearchParams({\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 4,\n  page: page,\n});\n\nfunction fetchingUrl(q) {\n  return fetch(`${BASE_URL}?key=${KEY}&q=${q}&${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nfunction markupImages(images) {\n  //   console.log(images);\n  const imageArr = images.hits;\n  if (imageArr.length !== 0) {\n    const markup = imageArr\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => {\n          return `<div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: </b>${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views: </b>${views}\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: </b>${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: </b>${downloads}\n    </p>\n  </div>\n</div>`;\n        }\n      )\n      .join('');\n    gallery.innerHTML = markup;\n  } else {\n    console.log('ничего не найдено');\n  }\n}\n"],"names":["$b8f9b7833fa37166$var$form","document","querySelector","$b8f9b7833fa37166$var$gallery","$b8f9b7833fa37166$var$loadMoreBtn","$b8f9b7833fa37166$var$BASE_URL","$b8f9b7833fa37166$var$KEY","$b8f9b7833fa37166$var$page","$b8f9b7833fa37166$var$formHandler","e","preventDefault","q","inputValue","currentTarget","elements","searchQuery","value","fetch","concat","$b8f9b7833fa37166$var$searchParams","then","response","ok","Error","status","json","catch","error","console","log","images","imageArr","hits","length","markup","map","param","webformatURL","tags","largeImageURL","likes","views","comments","downloads","join","innerHTML","$b8f9b7833fa37166$var$markupImages","addEventListener","URLSearchParams","image_type","orientation","safesearch","per_page","page"],"version":3,"file":"index.5fe3dd90.js.map"}